<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Gestionale Officina</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2e7d32">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- MENU LATERALE MOBILE -->
<div id="mobileDrawer" class="mobile-drawer">
  <button data-page="home">Home</button>
  <button data-page="appuntamenti">Appuntamenti</button>
  <button data-page="ordini">Ordini</button>
  <button data-page="clienti">Clienti</button>
  <button data-page="schede">Schede</button>
</div>

<div id="drawerOverlay" class="drawer-overlay"></div>

<!-- HEADER -->
<header class="topbar">
  <div class="topbar-inner">
  <div class="brand">
    <img src="logo.png" class="logo" alt="GoldenCar">
    <span class="brand-name">GOLDENCAR</span>
  </div>

  <div class="menu">
    <button onclick="showSection('home')">Home</button>
    <button onclick="showSection('appuntamenti')">Appuntamenti</button>
    <button onclick="showSection('clienti')">Clienti</button>
    <button onclick="showSection('schede')">Schede</button>
    <button onclick="showSection('ordini')">Ordini</button>
  </div>
</header>

<main>

  <!-- HOME -->
  <section id="home" class="page active">
    <h1 class="home-main-title">GESTIONALE GOLDENCAR</h1>
    <div class="home-container">

      <section class="home-block today">
        <h3>Oggi</h3>
        <div id="oggiEventi"></div>
      </section>

      <section class="home-block ordini">
        <h3>Ordini</h3>
        <button onclick="homeNuovoOrdine()">âž• Nuovo ordine</button>
        <button onclick="homeOrdineVocale()">ðŸŽ¤ Ordine vocale</button>
      </section>

      <section class="home-block clienti">
        <h3>Clienti</h3>
        <button onclick="showSection('clienti')">ðŸ“„ Carica libretto</button>
      </section>

      <section class="home-block schede">
        <h3>Schede</h3>
        <button onclick="homeSchede()">ðŸ›  Nuova scheda</button>
      </section>

      <section class="home-block fatture">
        <h3>Fatture</h3>
        <button onclick="window.open('https://metropolis.seac.it/login','_blank')">
          ðŸ“‘ Portale fatture
        </button>
      </section>

    </div>
  </section>

  <!-- APPUNTAMENTI -->
  <section id="appuntamenti" class="page">
    <h2 class="page-title">APPUNTAMENTI</h2>

    <div class="calendar-wrapper">
     <iframe
       src="https://calendar.google.com/calendar/embed?src=appuntamenti.goldencar@gmail.com&ctz=Europe/Rome"
       frameborder="0"
       scrolling="no">
     </iframe>
 </div>
  </section>

  <!-- CLIENTI -->
  <section id="clienti" class="page">
  <div class="page-header">
    <h2 class="page-title">CLIENTI</h2>

    <button class="secondary refresh-btn" id="btnRefreshClienti">
      ðŸ”„
    </button>
  </div>


<!-- ================= RICERCA ================= -->
<section class="section">
  <h3>Ricerca veicolo (TARGA)</h3>

  <!-- RICERCA -->
  <div class="row">
    <input id="ricercaTarga" class="targa">
    <button class="secondary" id="btnCerca">Cerca</button>
  </div>

  <p id="esitoRicerca" class="esito"></p>

  <!-- LIBRETTO + OCR -->
  <div class="doc-row">

  <span class="doc-label">Libretto</span>

  <!-- file nascosti -->
  <input type="file" id="librettoGallery" accept="image/*" hidden>
  <input type="file" id="librettoCamera" accept="image/*" capture="environment" hidden>

  <!-- Upload -->
  <button class="icon-btn upload-btn" data-target="librettoGallery" title="Carica da dispositivo"></button>

  <!-- Camera -->
  <button class="icon-btn camera-btn" data-target="librettoCamera" title="Scatta foto"></button>

  <img src="logo.png" id="loadingLibretto" class="loading-logo">

  <button id="librettoLink" type="button" class="icon-text-btn hidden">
    Visualizza
  </button>

  <button id="btnAnalizza" class="icon-text-btn">
    Analizza OCR
  </button>

  <img src="logo.png" id="loadingOCR" class="loading-logo">

</div>
</section>
  
<!-- ================= DATI CLIENTE ================= -->
<section class="section">
  <h3>Dati cliente</h3>

  <div class="form-grid">
    <input id="nome" placeholder="Nome cliente">
    <input id="indirizzo" placeholder="Indirizzo">
    <input id="telefono" placeholder="Telefono">
    <input id="data" placeholder="Data di nascita">
    <input id="cf" placeholder="Codice fiscale">
  </div>
</section>


<!-- ================= DATI VEICOLO ================= -->
<section class="section">
  <h3>Dati veicolo</h3>

  <div class="form-grid">
    <input id="veicolo" placeholder="Veicolo">
    <input id="motore" placeholder="Motore">
    <input id="targa" placeholder="Targa">
    <input id="immatricolazione" placeholder="Immatricolazione">
  </div>
</section>


<!-- ================= DOCUMENTI ================= -->
<section class="section">
  <h3>Documenti</h3>

  <div class="doc-grid">

    <!-- FOTO TARGA -->
    <div class="doc-row">

      <span class="doc-label">Targa</span>
    
      <input type="file" id="targaGallery" accept="image/*" hidden>
      <input type="file" id="targaCamera" accept="image/*" capture="environment" hidden>
    
      <button class="icon-btn upload-btn" data-target="targaGallery"></button>
    
      <button class="icon-btn camera-btn" data-target="targaCamera"></button>
    
      <img src="logo.png" id="loadingTarga" class="loading-logo">
    
      <button id="targaLink" type="button" class="icon-text-btn hidden">
        Visualizza
      </button>
    
    </div>

    <!-- ALTRI DOCUMENTI -->
    <div class="doc-row">

      <span class="doc-label">Documenti</span>
    
      <input type="file" id="altriDocumenti" multiple hidden>
    
      <button class="icon-btn upload-btn" data-target="altriDocumenti" id="btnUploadAltri"></button>
    
      <img src="logo.png" id="loadingAltri" class="loading-logo">
    
      <span id="altriCount" class="file-count"></span>
    
    </div>
  </div>
</section>


<!-- ================= BOTTONI ================= -->
<section class="section actions">

  <button id="btnSalva" class="secondary">
    Salva cliente
  </button>

  <button id="btnCartellaCliente" class="hidden">
    Apri cartella cliente
  </button>

  <p id="stato"></p>

</section>

</section>

  <!-- SCHEDE -->
  <section id="schede" class="page">
    <h2 class="page-title">SCHEDE</h2>
    <button onclick="apriAssistente()">âž• Nuova scheda</button>
    <div id="listaSchede"></div>
  </section>

  <!-- ORDINI -->
  <section id="ordini" class="page">
    <h2 class="page-title">ORDINI</h2>
    <button onclick="nuovoOrdine()">âž• Nuovo ordine</button>
    <div id="listaOrdini"></div>
  </section>

  <!-- ASSISTENTE -->
  <section id="assistente" class="page assistente">
    <header class="assistente-top">
      <span>ASSISTENTE</span>
      <button onclick="esciAssistente()">âœ•</button>
    </header>

    <div id="assistenteChat"></div>

    <input id="assistenteInput" placeholder="Scrivi o parla">
    <button id="btnMic">ðŸŽ¤</button>
  </section>

</main>

<!-- JS -->
<script src="./app.js"></script>

</body>
</html>





















